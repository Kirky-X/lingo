# Lingo ä½¿ç”¨ç¤ºä¾‹

è¿™ä¸ªç›®å½•åŒ…å«äº† Lingo é…ç½®ç®¡ç†åº“çš„å„ç§ä½¿ç”¨ç¤ºä¾‹ï¼Œä»åŸºç¡€ç”¨æ³•åˆ°é«˜çº§ä¼ä¸šçº§åº”ç”¨åœºæ™¯ã€‚

## ğŸ“ ç¤ºä¾‹ç›®å½•

### [basic](./basic/) - åŸºç¡€é…ç½®åŠ è½½

**é€‚åˆäººç¾¤**: åˆå­¦è€…ï¼Œæƒ³è¦å¿«é€Ÿäº†è§£ Lingo åŸºæœ¬åŠŸèƒ½

**ä¸»è¦ç‰¹æ€§**:

- åŸºæœ¬çš„é…ç½®ç»“æ„å®šä¹‰
- å¤šç§é…ç½®æºï¼ˆæ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œï¼‰
- é…ç½®ä¼˜å…ˆçº§æ¼”ç¤º
- ç®€å•çš„å­—æ®µå±æ€§ä½¿ç”¨

**å­¦ä¹ å†…å®¹**:

- `#[derive(Config)]` å®çš„åŸºæœ¬ä½¿ç”¨
- `#[lingo_opt]` å±æ€§çš„å¸¸è§ç”¨æ³•
- é…ç½®åŠ è½½å’Œè®¿é—®
- é…ç½®æ¨¡æ¿ç”Ÿæˆ

### [web_server](./web_server/) - Web æœåŠ¡å™¨é…ç½®

**é€‚åˆäººç¾¤**: Web å¼€å‘è€…ï¼Œéœ€è¦é…ç½® HTTP æœåŠ¡å™¨çš„å¼€å‘è€…

**ä¸»è¦ç‰¹æ€§**:

- å¤æ‚çš„åµŒå¥—é…ç½®ç»“æ„
- TLS/SSL é…ç½®
- CORS é…ç½®
- æ—¥å¿—é…ç½®
- å¼‚æ­¥ Web æœåŠ¡å™¨é›†æˆ

**å­¦ä¹ å†…å®¹**:

- åµŒå¥—ç»“æ„ä½“é…ç½®
- `#[lingo_opt(flatten)]` çš„ä½¿ç”¨
- ä¸ Axum æ¡†æ¶çš„é›†æˆ
- ç”Ÿäº§ç¯å¢ƒé…ç½®æœ€ä½³å®è·µ

### [database](./database/) - æ•°æ®åº“é…ç½®

**é€‚åˆäººç¾¤**: åç«¯å¼€å‘è€…ï¼Œéœ€è¦å¤æ‚æ•°æ®åº“é…ç½®çš„ä¼ä¸šçº§åº”ç”¨

**ä¸»è¦ç‰¹æ€§**:

- å¤šæ•°æ®åº“ç±»å‹æ”¯æŒ
- è¿æ¥æ± é…ç½®
- è¯»å†™åˆ†ç¦»é…ç½®
- SSL/TLS æ•°æ®åº“è¿æ¥
- æ•°æ®åº“è¿ç§»é…ç½®
- ç›‘æ§å’Œæ—¥å¿—é…ç½®

**å­¦ä¹ å†…å®¹**:

- å¤æ‚é…ç½®ç»“æ„è®¾è®¡
- å¯é€‰é…ç½®å­—æ®µå¤„ç†
- é…ç½®éªŒè¯å’Œé”™è¯¯å¤„ç†
- æ•æ„Ÿä¿¡æ¯å¤„ç†
- ä¼ä¸šçº§é…ç½®ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é€‰æ‹©åˆé€‚çš„ç¤ºä¾‹

æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©ç›¸åº”çš„ç¤ºä¾‹ï¼š

- **åˆšå¼€å§‹å­¦ä¹  Lingo** â†’ ä» `basic` ç¤ºä¾‹å¼€å§‹
- **å¼€å‘ Web åº”ç”¨** â†’ æŸ¥çœ‹ `web_server` ç¤ºä¾‹
- **éœ€è¦æ•°æ®åº“é…ç½®** â†’ å‚è€ƒ `database` ç¤ºä¾‹

### 2. è¿è¡Œç¤ºä¾‹

æ¯ä¸ªç¤ºä¾‹éƒ½å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼š

```bash
# è¿›å…¥ç¤ºä¾‹ç›®å½•
cd examples/basic

# è¿è¡Œç¤ºä¾‹
cargo run

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
cargo run -- --help

# ä½¿ç”¨é…ç½®æ–‡ä»¶
cargo run -- --config config.toml
```

### 3. å®éªŒä¸åŒé…ç½®æº

æ¯ä¸ªç¤ºä¾‹éƒ½æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼š

```bash
# ä½¿ç”¨ç¯å¢ƒå˜é‡
export APP_NAME="MyApp"
export APP_HOST="0.0.0.0"
export APP_PORT=8080
cargo run

# ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
cargo run -- --name "MyApp" --host "0.0.0.0" --port 8080

# ç»„åˆä½¿ç”¨
export APP_NAME="MyApp"  # ç¯å¢ƒå˜é‡
cargo run -- --port 8080 --config config.toml  # å‘½ä»¤è¡Œ + é…ç½®æ–‡ä»¶
```

## ğŸ“š å­¦ä¹ è·¯å¾„

### åˆçº§ (basic ç¤ºä¾‹)

1. **ç†è§£åŸºæœ¬æ¦‚å¿µ**
    - ä»€ä¹ˆæ˜¯é…ç½®ç®¡ç†
    - Lingo çš„æ ¸å¿ƒç†å¿µ
    - é…ç½®ä¼˜å…ˆçº§

2. **æŒæ¡åŸºæœ¬è¯­æ³•**
    - `#[derive(Config)]` å®
    - `#[lingo_opt]` å±æ€§
    - åŸºæœ¬æ•°æ®ç±»å‹æ”¯æŒ

3. **é…ç½®æºä½¿ç”¨**
    - é…ç½®æ–‡ä»¶ï¼ˆTOML/JSON/YAMLï¼‰
    - ç¯å¢ƒå˜é‡
    - å‘½ä»¤è¡Œå‚æ•°

### ä¸­çº§ (web_server ç¤ºä¾‹)

1. **å¤æ‚ç»“æ„è®¾è®¡**
    - åµŒå¥—é…ç½®ç»“æ„
    - å¯é€‰å­—æ®µå¤„ç†
    - é…ç½®åˆ†ç»„

2. **å®é™…åº”ç”¨é›†æˆ**
    - ä¸ Web æ¡†æ¶é›†æˆ
    - å¼‚æ­¥åº”ç”¨é…ç½®
    - ä¸­é—´ä»¶é…ç½®

3. **ç”Ÿäº§ç¯å¢ƒè€ƒè™‘**
    - å®‰å…¨é…ç½®
    - æ€§èƒ½ä¼˜åŒ–
    - ç›‘æ§å’Œæ—¥å¿—

### é«˜çº§ (database ç¤ºä¾‹)

1. **ä¼ä¸šçº§é…ç½®**
    - å¤æ‚é…ç½®éªŒè¯
    - æ•æ„Ÿä¿¡æ¯å¤„ç†
    - é…ç½®æ¨¡æ¿åŒ–

2. **é«˜çº§ç‰¹æ€§**
    - åŠ¨æ€é…ç½®é‡è½½
    - é…ç½®ç»§æ‰¿
    - æ¡ä»¶é…ç½®

3. **æœ€ä½³å®è·µ**
    - é…ç½®æ–‡æ¡£åŒ–
    - é”™è¯¯å¤„ç†ç­–ç•¥
    - æµ‹è¯•ç­–ç•¥

## ğŸ› ï¸ å¼€å‘å·¥å…·

### é…ç½®æ–‡ä»¶ç”Ÿæˆ

æ¯ä¸ªç¤ºä¾‹éƒ½æ”¯æŒç”Ÿæˆé…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š

```bash
# ç”Ÿæˆ TOML é…ç½®æ¨¡æ¿
cargo run -- --generate-config toml > config.toml

# ç”Ÿæˆ JSON é…ç½®æ¨¡æ¿
cargo run -- --generate-config json > config.json

# ç”Ÿæˆ YAML é…ç½®æ¨¡æ¿
cargo run -- --generate-config yaml > config.yaml
```

### é…ç½®éªŒè¯

éªŒè¯é…ç½®æ–‡ä»¶çš„æ­£ç¡®æ€§ï¼š

```bash
# éªŒè¯é…ç½®æ–‡ä»¶
cargo run -- --config config.toml --validate

# æ˜¾ç¤ºæœ€ç»ˆé…ç½®ï¼ˆåˆå¹¶æ‰€æœ‰æºåçš„ç»“æœï¼‰
cargo run -- --config config.toml --show-config
```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†çš„é…ç½®åŠ è½½æ—¥å¿—ï¼š

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
RUST_LOG=debug cargo run

# æˆ–ä½¿ç”¨å†…ç½®çš„è°ƒè¯•é€‰é¡¹
cargo run -- --debug
```

## ğŸ“– é…ç½®æ–‡ä»¶æ ¼å¼

### TOML (æ¨è)

```toml
# ç®€æ´æ˜“è¯»ï¼Œæ”¯æŒæ³¨é‡Š
name = "MyApp"
host = "localhost"
port = 8080
debug = true

[database]
url = "postgres://localhost/myapp"
max_connections = 10
```

### JSON

```json
{
  "name": "MyApp",
  "host": "localhost",
  "port": 8080,
  "debug": true,
  "database": {
    "url": "postgres://localhost/myapp",
    "max_connections": 10
  }
}
```

### YAML

```yaml
name: MyApp
host: localhost
port: 8080
debug: true
database:
  url: postgres://localhost/myapp
  max_connections: 10
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¤„ç†æ•æ„Ÿé…ç½®ä¿¡æ¯ï¼Ÿ

**A**: ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼š

```rust
#[derive(Config)]
struct AppConfig {
    // ä¸è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨å¯†ç 
    #[lingo_opt(description = "æ•°æ®åº“å¯†ç ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®")]
    database_password: Option<String>,
}
```

```bash
# é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®æ•æ„Ÿä¿¡æ¯
export APP_DATABASE_PASSWORD="secret_password"
```

### Q: å¦‚ä½•å®ç°é…ç½®çƒ­é‡è½½ï¼Ÿ

**A**: ç›®å‰ Lingo ä¸“æ³¨äºå¯åŠ¨æ—¶é…ç½®åŠ è½½ï¼Œçƒ­é‡è½½å¯ä»¥é€šè¿‡æ–‡ä»¶ç›‘æ§å®ç°ï¼š

```rust
// ä¼ªä»£ç ç¤ºä¾‹
use notify::Watcher;

let mut watcher = notify::recommended_watcher(|event| {
    if let Ok(event) = event {
        // é‡æ–°åŠ è½½é…ç½®
        let new_config = AppConfig::new();
        // åº”ç”¨æ–°é…ç½®
    }
})?;
```

### Q: å¦‚ä½•åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ä¸åŒçš„é…ç½®ï¼Ÿ

**A**: ä½¿ç”¨æµ‹è¯•ä¸“ç”¨çš„é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ï¼š

```rust
#[cfg(test)]
mod tests {
    use super::*;
    
    #[test]
    fn test_with_custom_config() {
        std::env::set_var("APP_CONFIG", "test_config.toml");
        let config = AppConfig::new();
        // æµ‹è¯•é€»è¾‘
    }
}
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®æ–°çš„ç¤ºä¾‹ï¼è¯·ç¡®ä¿ï¼š

1. ç¤ºä¾‹æœ‰æ˜ç¡®çš„å­¦ä¹ ç›®æ ‡
2. åŒ…å«å®Œæ•´çš„æ–‡æ¡£å’Œæ³¨é‡Š
3. æä¾›å¤šç§è¿è¡Œæ–¹å¼çš„è¯´æ˜
4. éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼

## ğŸ“„ è®¸å¯è¯

æ‰€æœ‰ç¤ºä¾‹ä»£ç éµå¾ªä¸ä¸»é¡¹ç›®ç›¸åŒçš„è®¸å¯è¯ã€‚